{"ast":null,"code":"(function (window, factory) {\n  if (!window) {\n    return;\n  }\n\n  var globalInstall = function () {\n    factory(window.lazySizes);\n    window.removeEventListener('lazyunveilread', globalInstall, true);\n  };\n\n  factory = factory.bind(null, window, window.document);\n\n  if (typeof module == 'object' && module.exports) {\n    factory(require('lazysizes'));\n  } else if (typeof define == 'function' && define.amd) {\n    define(['lazysizes'], factory);\n  } else if (window.lazySizes) {\n    globalInstall();\n  } else {\n    window.addEventListener('lazyunveilread', globalInstall, true);\n  }\n})(typeof window != 'undefined' ? window : 0, function (window, document, lazySizes) {\n  'use strict';\n\n  var addObserver = function () {\n    var connect, disconnect, observer, connected;\n    var lsCfg = lazySizes.cfg;\n    var attributes = {\n      'data-bgset': 1,\n      'data-include': 1,\n      'data-poster': 1,\n      'data-bg': 1,\n      'data-script': 1\n    };\n    var regClassTest = '(\\\\s|^)(' + lsCfg.loadedClass;\n    var docElem = document.documentElement;\n\n    var setClass = function (target) {\n      lazySizes.rAF(function () {\n        lazySizes.rC(target, lsCfg.loadedClass);\n\n        if (lsCfg.unloadedClass) {\n          lazySizes.rC(target, lsCfg.unloadedClass);\n        }\n\n        lazySizes.aC(target, lsCfg.lazyClass);\n\n        if (target.style.display == 'none' || target.parentNode && target.parentNode.style.display == 'none') {\n          setTimeout(function () {\n            lazySizes.loader.unveil(target);\n          }, 0);\n        }\n      });\n    };\n\n    var onMutation = function (mutations) {\n      var i, len, mutation, target;\n\n      for (i = 0, len = mutations.length; i < len; i++) {\n        mutation = mutations[i];\n        target = mutation.target;\n\n        if (!target.getAttribute(mutation.attributeName)) {\n          continue;\n        }\n\n        if (target.localName == 'source' && target.parentNode) {\n          target = target.parentNode.querySelector('img');\n        }\n\n        if (target && regClassTest.test(target.className)) {\n          setClass(target);\n        }\n      }\n    };\n\n    if (lsCfg.unloadedClass) {\n      regClassTest += '|' + lsCfg.unloadedClass;\n    }\n\n    regClassTest += '|' + lsCfg.loadingClass + ')(\\\\s|$)';\n    regClassTest = new RegExp(regClassTest);\n    attributes[lsCfg.srcAttr] = 1;\n    attributes[lsCfg.srcsetAttr] = 1;\n\n    if (window.MutationObserver) {\n      observer = new MutationObserver(onMutation);\n\n      connect = function () {\n        if (!connected) {\n          connected = true;\n          observer.observe(docElem, {\n            subtree: true,\n            attributes: true,\n            attributeFilter: Object.keys(attributes)\n          });\n        }\n      };\n\n      disconnect = function () {\n        if (connected) {\n          connected = false;\n          observer.disconnect();\n        }\n      };\n    } else {\n      docElem.addEventListener('DOMAttrModified', function () {\n        var runs;\n        var modifications = [];\n\n        var callMutations = function () {\n          onMutation(modifications);\n          modifications = [];\n          runs = false;\n        };\n\n        return function (e) {\n          if (connected && attributes[e.attrName] && e.newValue) {\n            modifications.push({\n              target: e.target,\n              attributeName: e.attrName\n            });\n\n            if (!runs) {\n              setTimeout(callMutations);\n              runs = true;\n            }\n          }\n        };\n      }(), true);\n\n      connect = function () {\n        connected = true;\n      };\n\n      disconnect = function () {\n        connected = false;\n      };\n    }\n\n    addEventListener('lazybeforeunveil', disconnect, true);\n    addEventListener('lazybeforeunveil', connect);\n    addEventListener('lazybeforesizes', disconnect, true);\n    addEventListener('lazybeforesizes', connect);\n    connect();\n    removeEventListener('lazybeforeunveil', addObserver);\n  };\n\n  addEventListener('lazybeforeunveil', addObserver);\n});","map":{"version":3,"sources":["/Users/Jamie/Projects/customer_examples/react-movie-app/node_modules/lazysizes/plugins/attrchange/ls.attrchange.js"],"names":["window","factory","globalInstall","lazySizes","removeEventListener","bind","document","module","exports","require","define","amd","addEventListener","addObserver","connect","disconnect","observer","connected","lsCfg","cfg","attributes","regClassTest","loadedClass","docElem","documentElement","setClass","target","rAF","rC","unloadedClass","aC","lazyClass","style","display","parentNode","setTimeout","loader","unveil","onMutation","mutations","i","len","mutation","length","getAttribute","attributeName","localName","querySelector","test","className","loadingClass","RegExp","srcAttr","srcsetAttr","MutationObserver","observe","subtree","attributeFilter","Object","keys","runs","modifications","callMutations","e","attrName","newValue","push"],"mappings":"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","sourcesContent":["(function(window, factory) {\n\tif(!window) {return;}\n\tvar globalInstall = function(){\n\t\tfactory(window.lazySizes);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if (typeof define == 'function' && define.amd) {\n\t\tdefine(['lazysizes'], factory);\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(typeof window != 'undefined' ?\n\twindow : 0, function(window, document, lazySizes) {\n\t'use strict';\n\n\tvar addObserver = function(){\n\t\tvar connect, disconnect, observer, connected;\n\t\tvar lsCfg = lazySizes.cfg;\n\t\tvar attributes = {'data-bgset': 1, 'data-include': 1, 'data-poster': 1, 'data-bg': 1, 'data-script': 1};\n\t\tvar regClassTest = '(\\\\s|^)(' + lsCfg.loadedClass;\n\t\tvar docElem = document.documentElement;\n\n\t\tvar setClass = function(target){\n\t\t\tlazySizes.rAF(function(){\n\t\t\t\tlazySizes.rC(target, lsCfg.loadedClass);\n\t\t\t\tif(lsCfg.unloadedClass){\n\t\t\t\t\tlazySizes.rC(target, lsCfg.unloadedClass);\n\t\t\t\t}\n\t\t\t\tlazySizes.aC(target, lsCfg.lazyClass);\n\n\t\t\t\tif(target.style.display == 'none' || (target.parentNode && target.parentNode.style.display == 'none')){\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tlazySizes.loader.unveil(target);\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tvar onMutation = function(mutations){\n\t\t\tvar i, len, mutation, target;\n\t\t\tfor(i = 0, len = mutations.length; i < len; i++){\n\t\t\t\tmutation = mutations[i];\n\t\t\t\ttarget = mutation.target;\n\n\t\t\t\tif(!target.getAttribute(mutation.attributeName)){continue;}\n\n\t\t\t\tif(target.localName == 'source' && target.parentNode){\n\t\t\t\t\ttarget = target.parentNode.querySelector('img');\n\t\t\t\t}\n\n\t\t\t\tif(target && regClassTest.test(target.className)){\n\t\t\t\t\tsetClass(target);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif(lsCfg.unloadedClass){\n\t\t\tregClassTest += '|' + lsCfg.unloadedClass;\n\t\t}\n\n\t\tregClassTest += '|' + lsCfg.loadingClass + ')(\\\\s|$)';\n\n\t\tregClassTest = new RegExp(regClassTest);\n\n\t\tattributes[lsCfg.srcAttr] = 1;\n\t\tattributes[lsCfg.srcsetAttr] = 1;\n\n\t\tif(window.MutationObserver){\n\t\t\tobserver = new MutationObserver(onMutation);\n\n\t\t\tconnect = function(){\n\t\t\t\tif(!connected){\n\t\t\t\t\tconnected = true;\n\t\t\t\t\tobserver.observe( docElem, { subtree: true, attributes: true, attributeFilter: Object.keys(attributes)} );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdisconnect = function(){\n\t\t\t\tif(connected){\n\t\t\t\t\tconnected = false;\n\t\t\t\t\tobserver.disconnect();\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\tdocElem.addEventListener('DOMAttrModified', (function(){\n\t\t\t\tvar runs;\n\t\t\t\tvar modifications = [];\n\t\t\t\tvar callMutations = function(){\n\t\t\t\t\tonMutation(modifications);\n\t\t\t\t\tmodifications = [];\n\t\t\t\t\truns = false;\n\t\t\t\t};\n\t\t\t\treturn function(e){\n\t\t\t\t\tif(connected && attributes[e.attrName] && e.newValue){\n\t\t\t\t\t\tmodifications.push({target: e.target, attributeName: e.attrName});\n\t\t\t\t\t\tif(!runs){\n\t\t\t\t\t\t\tsetTimeout(callMutations);\n\t\t\t\t\t\t\truns = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t})(), true);\n\n\t\t\tconnect = function(){\n\t\t\t\tconnected = true;\n\t\t\t};\n\t\t\tdisconnect = function(){\n\t\t\t\tconnected = false;\n\t\t\t};\n\t\t}\n\n\t\taddEventListener('lazybeforeunveil', disconnect, true);\n\t\taddEventListener('lazybeforeunveil', connect);\n\n\t\taddEventListener('lazybeforesizes', disconnect, true);\n\t\taddEventListener('lazybeforesizes', connect);\n\t\tconnect();\n\n\t\tremoveEventListener('lazybeforeunveil', addObserver);\n\t};\n\n\n\taddEventListener('lazybeforeunveil', addObserver);\n}));\n"]},"metadata":{},"sourceType":"script"}